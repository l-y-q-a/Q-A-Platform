<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>登录 - 在线问答平台</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<div class="login-container">
    <div class="login-box">
        <h2 class="login-title">用户登录</h2>

        <div th:if="${error}" class="error" th:text="${error}"></div>

        <form th:action="@{/login}" method="post">
            <div class="form-group">
                <label>用户名:</label>
                <input type="text" name="username" class="form-control"
                       placeholder="请输入用户名" required>
            </div>

            <div class="form-group">
                <label>密码:</label>
                <input type="password" name="password" class="form-control"
                       placeholder="请输入密码" required>
            </div>

            <div class="form-group">
                <label>验证码:</label>
                <div class="captcha-container">
                    <input type="text" name="captcha" class="form-control captcha-input"
                           placeholder="请输入验证码" required>
                    <img th:src="@{/captcha}" alt="验证码" class="captcha-image"
                         onclick="refreshCaptcha()">
                </div>
            </div>

            <button type="submit" class="btn btn-block">登录</button>
        </form>

        <div style="text-align: center; margin-top: 20px; color: #7f8c8d;">
            <p>测试账号: admin/123456 或 user/123456</p>
        </div>
    </div>
</div>

<script>
    function refreshCaptcha() {
        var captchaImage = document.querySelector('.captcha-image');
        captchaImage.src = '/captcha?t=' + new Date().getTime();
    }
</script>
</body>
</html>